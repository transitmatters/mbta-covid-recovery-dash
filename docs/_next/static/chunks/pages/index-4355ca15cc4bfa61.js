(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(1653)}])},1653:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return De},default:function(){return Me}});var n=r(1799),a=r(5893),i=r(7294),s=r(9008),l=r.n(s),o=r(4298),c=r.n(o),d=r(9396),u=r(9815),h=r(4189),p=r(266),v=r(8719),m=r(8941),f=r.n(m),x=function(e){var t=e.caption,r=e.columns,s=(0,h.b)(),l=(0,i.useMemo)((function(){for(var e,t=(e=Math).max.apply(e,(0,u.Z)(r.map((function(e){return e.values.length})))),n=[],a=0;a<t;a++){var i=[];n.push(i);for(var s=0;s<r.length;s++){var l=r[s].values[a]||"";i.push(l)}}return n}),[r]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(p.S,(0,d.Z)((0,n.Z)({},s),{as:"button",className:f().button,children:["Show data table: ",t]})),(0,a.jsx)(v.V,(0,d.Z)((0,n.Z)({},s),{children:s.visible&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:f().backdrop}),(0,a.jsxs)("div",{className:f().dialog,children:[(0,a.jsx)("p",{children:"Press ESC to close"}),(0,a.jsxs)("table",{children:[(0,a.jsx)("caption",{children:t}),(0,a.jsxs)("tbody",{children:[(0,a.jsx)("tr",{children:r.map((function(e,t){return(0,a.jsx)("th",{children:e.title},t)}))}),l.map((function(e,t){return(0,a.jsx)("tr",{children:e.map((function(e,t){return(0,a.jsx)("td",{children:e},t)}))},t)}))]})]})]})]})}))]})},b=r(828),g=r(3967),_=r.n(g),j=r(9327),y={red:"#da291c",orange:"#ed8b00",green:"#00843d",blue:"#003da5",silver:"#666",bus:"#ffc72c",boat:"#1da2d8","regional-rail":"#742573"},C=r(7757),L=r.n(C),T=r(7863),w=r.n(T),k=3600,N=function(e){var t=Math.floor(e/k),r=t>=12&&t<24;return"".concat(t>12?t-12:0===t?12:t," ").concat(r?"PM":"AM")},D=r(794),M=r.n(D),S=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:24,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=[],i=t;i<r;i++)(i-n)%e===0&&a.push(N(i*k));return a}(1),R=function(e){var t=e.color,r=e.baselineTph,n=e.currentTph,s=e.highestTph,l=e.lineTitle,o=(0,i.useRef)(null),c=(0,i.useMemo)((function(){var e=function(e){return e||0};return[{title:"Hour",values:S},r&&{title:"Pre-COVID trips",values:r.map(e)},n&&{title:"Current trips",values:n.map(e)}].filter((function(e){return e}))}),[S,r,n]);return(0,i.useEffect)((function(){var e=o.current.getContext("2d"),a=w()(t).alpha(.4).rgbString(),i=[{label:"Pre-COVID trips per hour",data:r,steppedLine:!0,borderColor:t,borderWidth:2,backgroundColor:"rgba(0,0,0,0)"},{label:"Current trips per hour",data:n,steppedLine:!0,borderWidth:2,borderColor:"rgba(0,0,0,0)",backgroundColor:a}],l=new(L())(e,{type:"line",data:{labels:S,datasets:i},options:{maintainAspectRatio:!1,animation:{duration:0},legend:{position:"top",align:"end",labels:{boxWidth:15}},scales:{xAxes:[{gridLines:{display:!1},ticks:{maxTicksLimit:12}}],yAxes:[{gridLines:{display:!1},ticks:{maxTicksLimit:4,suggestedMax:s}}]},tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e){var t=e.datasetIndex,r=e.index,n=i[t],a=n.label,s=n.data;return"".concat(a,": ").concat(s[r]," (each direction)")}}},elements:{line:{tension:0},point:{radius:0}}}});return function(){l.destroy()}}),[r,n]),(0,a.jsxs)("div",{className:M().tphChartContainer,children:[(0,a.jsx)("canvas",{ref:o}),(0,a.jsx)(x,{columns:c,caption:"Trips each hour (".concat(l,")")})]})},F=r(2744),A=r.n(F),I=r(3316),H=r.n(I),E=new Intl.DateTimeFormat("en-US"),B=function(e){return["line-Red","line-Orange","line-Blue","line-Green"].includes(e)?"faregate validations":"riders"},Z=function(e){var t=e[0];return e.map((function(e){return e/t}))},O=function(e){return Math.round(100*e).toString()+"%"},P=H()((function(e){var t=Date.now(),r=[],n=[],a=e.valueOf();do{r.push(E.format(a)),n.push(a),a+=864e5}while(a<=t);return{timestamps:n,dateStrings:r}}),{serializer:function(e){return e.valueOf().toString()}}),G=function(e){var t=e.color,r=e.serviceHistory,n=e.ridershipHistory,s=e.startDate,l=e.lineTitle,o=e.lineId,c=(0,i.useRef)(null),d=(0,i.useMemo)((function(){return n&&Z(n)}),[n]),u=(0,i.useMemo)((function(){return r&&Z(r)}),[r]),h=(0,i.useMemo)((function(){return P(s)}),[s]),p=h.timestamps,v=h.dateStrings,m=(0,i.useMemo)((function(){var e=B(o);return[{title:"Date",values:v},n&&{title:"Ridership (".concat(e,"/day)"),values:n},d&&{title:"Ridership (percentage)",values:d.map(O)},r&&{title:"Service levels (trips/day)",values:r},u&&{title:"Service levels (percentage)",values:u.map(O)}].filter((function(e){return e}))}),[v,n,d,r,u]);return(0,i.useEffect)((function(){var e=w()(t).alpha(.8).rgbString(),a=c.current.getContext("2d"),i=B(o),s=[d&&{label:"Ridership",actual:n,unit:"weekday ".concat(i),data:d,borderColor:t,backgroundColor:e,borderWidth:2},{label:"Service levels",actual:r,unit:"weekday trips per direction",data:u,borderColor:e,backgroundColor:A().draw("diagonal","rgba(0,0,0,0)",t,5),borderWidth:2}].filter((function(e){return e})),l=new(L())(a,{type:"line",data:{datasets:s,labels:p},options:{maintainAspectRatio:!1,animation:{duration:0},scales:{xAxes:[{gridLines:{display:!1},type:"time",time:{unit:"month",displayFormats:{month:"MMM 'YY"}}}],yAxes:[{ticks:{beginAtZero:!0,stepSize:.2,maxTicksLimit:6,callback:O},gridLines:{display:!1}}]},elements:{point:{radius:0},line:{tension:0}},legend:{position:"top",align:"end",labels:{boxWidth:15}},tooltips:{mode:"index",intersect:!1,callbacks:{title:function(e){var t=(0,b.Z)(e,1)[0].index;return E.format(p[t])},label:function(e){var t=e.datasetIndex,r=e.index,n=e.value,a=s[t],i=a.label,l=a.actual,o=a.unit,c=Math.round(100*parseFloat(n));return"".concat(i,": ").concat(l[r]," ").concat(o," (").concat(c,"%)")}}}}});return function(){l.destroy()}}),[d,u,o]),(0,a.jsxs)("div",{className:M().serviceAndRidershipChartContainer,children:[(0,a.jsx)("canvas",{className:M().serviceAndRidershipChart,ref:c}),(0,a.jsx)(x,{columns:m,caption:"Service levels and ridership (".concat(l,")")})]})},W=[{value:"weekday",label:"Weekdays"},{value:"saturday",label:"Saturday"},{value:"sunday",label:"Sunday"}],K=(0,a.jsxs)("details",{children:[(0,a.jsx)("summary",{children:"Caveats on Commuter Rail data"}),(0,a.jsxs)("div",{className:M().detailsExpanded,children:["The MBTA doesn't provide us daily Commuter Rail ridership from before June 2020. We estimate a baseline (100%) value for February 2020 based on"," ",(0,a.jsx)("a",{href:"https://mbta-massdot.opendata.arcgis.com/datasets/MassDOT::mbta-commuter-rail-ridership-by-trip-season-route-line-and-stop/explore",target:"_blank",rel:"noreferrer",children:"2018 per-line ridership values"}),"."]})]}),q=function(e){var t=e.lineData,r=t.id,n=t.ridershipHistory,s=t.lineKind,l=t.serviceHistory,o=t.serviceRegimes,c=t.startDate,d=t.shortName,h=t.longName,p=y[s]||"black",v=(0,i.useState)("weekday"),m=v[0],f=v[1],x=(0,i.useMemo)((function(){return function(e){var t=0;return Object.entries(e.serviceRegimes).forEach((function(e){var r=(0,b.Z)(e,2),n=r[0],a=r[1];"baseline"!==n&&"current"!==n||Object.values(a).forEach((function(e){var r;e.tripsPerHour&&(t=(r=Math).max.apply(r,[t].concat((0,u.Z)(e.tripsPerHour))))}))})),t}(t)}),[t]),g=(0,i.useMemo)((function(){return new Date(c)}),[c]),C=d||h,L=n?"Weekday ridership and service levels":"Weekday service levels (ridership not available)",T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,a.jsxs)("h3",{className:M().sectionLabel,children:[(0,a.jsx)("div",{className:"label",children:e}),t]})},w=(0,a.jsx)(pe,{className:M().tabs,value:m,items:W,onSelectValue:function(e){return f(e)},baseId:"line-day-selector-".concat(r),"aria-label":"Select day of service"});return(0,a.jsxs)(Ne,{title:C,topRight:function(){var e=o.current,t=o.baseline;return["23","28","29"].includes(d)?(0,a.jsxs)("div",{className:_()(M().statusBadge,"good"),children:[(0,a.jsx)(j.DNI,{size:20}),(0,a.jsx)("a",{href:"https://www.mbta.com/projects/fare-free-bus-pilot-route-28",target:"_blank",rel:"noopener noreferrer",children:"Free Fare Pilot"})]}):0===e.weekday.totalTrips?(0,a.jsxs)("div",{className:_()(M().statusBadge,"bad"),children:[(0,a.jsx)(j.KZq,{size:20}),"Canceled"]}):0===e.saturday.totalTrips&&t.saturday.totalTrips>0?(0,a.jsxs)("div",{className:_()(M().statusBadge,"warning"),children:[(0,a.jsx)(j.KZq,{size:20}),"Weekends"]}):void 0}(),details:"regional-rail"===t.lineKind?K:null,children:[T("Daily service levels",w),(0,a.jsx)(R,{lineTitle:"".concat(C,", ").concat(m),baselineTph:o.baseline[m].tripsPerHour,currentTph:o.current[m].tripsPerHour,color:p,highestTph:x}),T(L),(0,a.jsx)(G,{lineId:t.id,lineTitle:"".concat(C,", ").concat(m),startDate:g,ridershipHistory:n,serviceHistory:l,color:p})]})},V=r(5675),Y=r.n(V),z=["red","green","blue","orange","silver"],J=new Set([1,15,22,23,28,32,39,57,66,71,73,77,111,116,117].map(String)),X=function(e){return e.serviceRegimes.current.weekday.cancelled},U=function(e){var t=e.ridershipHistory;return t&&!X(e)?t[0]/t[t.length-1]:1/0},Q=function(e){var t=e.ridershipHistory;return t&&!X(e)?t[t.length-1]:1/0},$={kind:function(e){var t;if(z.includes(e.lineKind))return"silver"===e.lineKind?1:0;if(e.routeIds.some((function(e){return J.has(e)})))return 100+parseInt(e.routeIds[0]);if("regional-rail"===e.lineKind)return 200;var r=300+(t=Math).min.apply(t,(0,u.Z)(e.routeIds.map((function(e){return parseInt(e)}))));return Number.isNaN(r)?1/0:r},lowestServiceFraction:function(e){return e.serviceFraction},highestServiceFraction:function(e){return-e.serviceFraction},lowestTotalTrips:function(e){return e.totalTrips},highestTotalTrips:function(e){return-e.totalTrips},lowestRidershipFraction:function(e){return e.ridershipHistory&&!X(e)?-U(e):1/0},highestRidershipFraction:U,lowestTotalRidership:Q,highestTotalRidership:function(e){return e.ridershipHistory&&!X(e)?-Q(e):1/0}},ee=r(1945),te=r.n(ee),re=function(e){return!!e},ne=function(e){var t=e.lineData,r=e.summaryData,n=e.filter,s=void 0===n?re:n,l=(0,i.useState)(12),o=l[0],c=l[1],d=(0,i.useState)(""),u=d[0],h=d[1],p=(0,i.useState)(""),v=p[0],m=p[1],f=(0,i.useState)("grid"),x=f[0],b=f[1],g=(0,i.useState)("all"),j=g[0],y=g[1],C=(0,i.useMemo)((function(){return function(e,t){var r={};return e.forEach((function(e){r[e.id]=t(e)})),e.sort((function(e,t){var n=r[e.id],a=r[t.id];return n===a?0:n>a?1:-1}))}(Object.values(t).filter((function(e){return s(e)&&function(e,t){var r=e.id,n=e.shortName||e.longName;return!t||(null===n||void 0===n?void 0:n.toLowerCase().includes(t))||r.toLowerCase().includes(t)}(e,u)&&function(e,t){var r=e.lineKind;return"all"===t||("regional-rail"===t||"bus"===t||"boat"===t?r===t:"regional-rail"!==r&&"bus"!==r&&"boat"!==r)}(e,j)})),$[v||"kind"])}),[t,s,u,j,v]),L=(0,i.useMemo)((function(){return C.slice(0,o)}),[C,o]);!function(e){var t=e.element,r=e.enabled,n=e.onRequestMoreItems,a=e.scrollTolerance,s=void 0===a?0:a;(0,i.useEffect)((function(){if(t&&r&&n){var e=function(){t&&r&&function(e,t){return e.scrollHeight-e.scrollTop-t<=e.clientHeight}(t,s)&&n()};e();var a=t===document.documentElement?window:t;return a.addEventListener("scroll",e),function(){return a.removeEventListener("scroll",e)}}return function(){}}),[t,r,s,n])}({element:"undefined"!==typeof document?document.documentElement:null,enabled:o<C.length,scrollTolerance:300,onRequestMoreItems:function(){return c((function(e){return e+12}))}});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:te().header,children:[(0,a.jsx)("a",{href:"https://transitmatters.org",children:(0,a.jsx)(Y(),{src:"/logo.svg",className:te().logo,height:20,width:197,alt:"Transitmatters Logo"})}),(0,a.jsx)("h1",{children:"MBTA Covid Recovery Dashboard"}),(0,a.jsxs)("div",{className:te().links,children:[(0,a.jsxs)("span",{children:["Data through ",r.endDate]}),(0,a.jsx)("a",{href:"https://transitmatters.org/transitmatters-labs",children:"TransitMatters Labs"}),(0,a.jsx)("a",{href:"https://github.com/transitmatters/mbta-covid-recovery-dash",children:"Source code"}),(0,a.jsx)("a",{href:"https://transitmatters.org/donate",children:"Donate"}),(0,a.jsx)("a",{href:"mailto:labs@transitmatters.org?subject=Covid Dashboard Feedback",children:"Send feedback"})]})]}),(0,a.jsxs)("div",{className:te().controls,children:[(0,a.jsx)("input",{placeholder:"Filter lines",className:te().filter,value:u,onChange:function(e){h(e.target.value.toLowerCase().trim()),c(12)}}),(0,a.jsxs)("select",{value:x,className:_()(te().select,te().displaySelect),onChange:function(e){return b(e.target.value)},children:[(0,a.jsx)("option",{value:"grid",children:"Show grid"}),(0,a.jsx)("option",{value:"rows",children:"Show rows"})]}),(0,a.jsxs)("select",{className:te().select,value:j,onChange:function(e){var t=e.target.value;y(t),c(12),"regional-rail"!==t&&"boat"!==t||!function(e){return"lowestRidershipFraction"===e||"highestRidershipFraction"===e||"lowestTotalRidership"===e||"highestTotalRidership"===e}(v)||m("highestServiceFraction")},children:[(0,a.jsx)("option",{value:"all",children:"All lines"}),(0,a.jsx)("option",{value:"bus",children:"Bus"}),(0,a.jsx)("option",{value:"rapid-transit",children:"Rapid transit"}),(0,a.jsx)("option",{value:"regional-rail",children:"Commuter rail"}),(0,a.jsx)("option",{value:"boat",children:"Ferry"})]}),function(){var e="regional-rail"===j;return(0,a.jsxs)("select",{className:_()(te().select,"kind"===v&&"default"),value:v,onChange:function(e){m(e.target.value),c(12)},children:[(0,a.jsx)("option",{value:"",disabled:!0,children:"Sort by..."}),(0,a.jsx)("option",{value:"kind",children:"Service kind"}),(0,a.jsx)("option",{value:"highestServiceFraction",children:"Least service cut"}),(0,a.jsx)("option",{value:"lowestServiceFraction",children:"Most service cut"}),(0,a.jsx)("option",{value:"lowestTotalTrips",children:"Least service"}),(0,a.jsx)("option",{value:"highestTotalTrips",children:"Most service"}),!e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("option",{value:"lowestRidershipFraction",children:"Least ridership retained"}),(0,a.jsx)("option",{value:"highestRidershipFraction",children:"Most ridership retained"}),(0,a.jsx)("option",{value:"lowestTotalRidership",children:"Least ridership"}),(0,a.jsx)("option",{value:"highestTotalRidership",children:"Most ridership"})]})]})}()]}),(0,a.jsx)(je,{summaryData:r}),(0,a.jsx)(Te,{summaryData:r}),"all"===j&&(0,a.jsx)(se,{summaryData:r}),(0,a.jsx)("div",{className:_()(te().lineGrid,x),children:L.map((function(e){return(0,a.jsx)(q,{lineData:e},e.id)}))})]})},ae=r(5070),ie=r.n(ae),se=function(e){var t=e.summaryData,r=t.totalRidershipHistory,n=t.totalServiceHistory,s=t.startDate,l=(0,i.useMemo)((function(){return new Date(s)}),[s]);return(0,a.jsx)(Ne,{title:"System-wide",className:ie().systemCard,details:"Excludes ridership data from Green Line surface stations.",children:(0,a.jsx)(G,{lineId:"",lineTitle:"System-wide",color:"#165c96",serviceHistory:n,ridershipHistory:r,startDate:l})})},le=r(5419),oe=r(1693),ce=r(6550),de=r(8514),ue=r.n(de),he=function(e,t){return"".concat(e,"-").concat(t)},pe=function(e){var t=e["aria-label"],r=e.baseId,s=e.className,l=e.items,o=e.onSelectValue,c=e.style,u=void 0===c?{}:c,h=e.tabClassName,p=e.value,v=(0,le.x)({selectedId:he(r,p)});return(0,i.useEffect)((function(){var e=document.querySelector("#".concat(v.selectedId));e&&o(e.getAttribute("data-value"))}),[v.selectedId]),(0,a.jsx)(oe.t,(0,d.Z)((0,n.Z)({},v),{style:u,className:_()(ue().tabList,s),"aria-label":t,as:"div",children:l.map((function(e){var t=e.value,s=e.label;return(0,i.createElement)(ce.O,(0,d.Z)((0,n.Z)({},v),{id:he(r,t),className:_()(ue().tab,h),key:t,as:"div","data-value":t}),(0,a.jsx)("span",{children:s}))}))}))},ve=r(4024),me=r.n(ve),fe=function(e){var t=e.sparklineData,r=e.pieData,n=e.label,s=(0,i.useRef)(null);(0,i.useEffect)((function(){var e=s.current;if(e){var t=e.getContext("2d");new(L())(t,{type:"doughnut",data:r,options:{legend:{display:!1},tooltips:{enabled:!1},hover:{mode:null}}})}}),[e.pieData]);var l=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e=l.current;if(e){var r=e.getContext("2d"),a=t.datasets;new(L())(r,{type:"line",data:t,options:{tooltips:{mode:"index",intersect:!1,displayColors:!1,callbacks:{title:function(e){var t=(0,b.Z)(e,1)[0],r=t.index,n=t.datasetIndex;return a[n].labels.dateStrings[r]},label:function(e){var t,r=e.index,i=e.datasetIndex,s=a[i].data,l=(t=s[r]/s[0],Math.round(100*t).toString()+"%");return"".concat(l," of pre-pandemic ").concat(n)}}},legend:{display:!1},layout:{padding:10},scales:{xAxes:[{gridLines:{drawBorder:!1,tickMarkLength:0,drawOnChartArea:!1},ticks:{display:!1,maxTicksLimit:2}}],yAxes:[{gridLines:{drawBorder:!1,tickMarkLength:0,drawOnChartArea:!1},ticks:{display:!1}}]},elements:{point:{radius:0}}}})}}),[e.sparklineData]),(0,a.jsxs)("div",{className:me().flexWrap,children:[(0,a.jsx)("div",{className:me().flexCol,children:(0,a.jsx)("canvas",{ref:s})}),(0,a.jsx)("div",{className:me().flexCol,children:(0,a.jsx)("canvas",{ref:l})})]})},xe=r(8774),be=r.n(xe),ge=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=[],n=Math.floor(e.length/t),a=0;a<e.length-t;a++){var i=e.slice(a,a+t).reduce((function(e,t){return e+t}));r.push(i),a%n===0&&r.push(i)}return r},_e=function(e){return[100-100*e,100*e]},je=function(e){var t=e.summaryData,r=t.totalRidershipHistory,n=t.totalServiceHistory,s=t.totalRidershipPercentage,l=t.totalServicePercentage,o=t.totalRoutesCancelled,c=t.totalReducedService,d=t.totalIncreasedService,h=t.startDate,p=(0,i.useMemo)((function(){return new Date(h)}),[h]),v=(0,i.useMemo)((function(){return P(p)}),[p]),m=(0,i.useMemo)((function(){return["pre-covid"].concat((0,u.Z)(Array(r.length-2).fill("")),["current"])}),[]),f=(0,i.useMemo)((function(){return{labels:["","current"],datasets:[{strokeColor:"transparent",backgroundColor:["#D3D3D3","#D31A2B"],data:_e(s)}]}}),[s]),x=(0,i.useMemo)((function(){return{labels:m,datasets:[{data:ge(r),fill:!1,tension:.8,borderColor:"#D31A2B",labels:v}]}}),[v,r]),b=(0,i.useMemo)((function(){return{labels:["","current"],datasets:[{backgroundColor:["#D3D3D3","#D31A2B"],data:_e(l)}]}}),[l]),g=(0,i.useMemo)((function(){return{labels:m,datasets:[{data:ge(n),fill:!1,tension:0,borderColor:"#D31A2B",labels:v}]}}),[n]);return(0,a.jsxs)("div",{className:be().topLine,children:[(0,a.jsxs)("div",{className:be().column,children:[(0,a.jsx)("h4",{children:"Total Ridership"}),(0,a.jsx)(fe,{sparklineData:x,pieData:f,label:"ridership"}),(0,a.jsxs)("p",{children:[(0,a.jsxs)("strong",{children:[Math.round(100*s),"%"]})," of pre-pandemic weekday ridership"]})]}),(0,a.jsxs)("div",{className:be().column,children:[(0,a.jsx)("h4",{children:"Total Service"}),(0,a.jsx)(fe,{sparklineData:g,pieData:b,label:"service"}),(0,a.jsxs)("p",{children:[(0,a.jsxs)("strong",{children:[Math.round(100*l),"%"]})," of pre-pandemic weekday service"]})]}),(0,a.jsx)("div",{className:be().column,children:(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("div",{className:_()(be().bubble,be().bad),children:(0,a.jsx)("span",{children:o})})," ","routes canceled"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("div",{className:_()(be().bubble,be().warning),children:(0,a.jsx)("span",{children:c})})," ","routes with reduced service"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("div",{className:_()(be().bubble,be().good),children:(0,a.jsx)("span",{children:d})})," ","routes with increased service"]})]})})]})},ye=r(3006),Ce=r.n(ye),Le=function(e){return Math.round(100*e).toString()+"%"},Te=function(e){var t=e.summaryData,r=t.totalRidershipPercentage,n=t.totalServicePercentage;return(0,a.jsxs)("div",{className:Ce().topLineMobile,children:[(0,a.jsxs)("div",{className:Ce().ridership,children:[(0,a.jsx)("div",{className:Ce().large,children:Le(r)}),"of pre-pandemic weekday ridership"]}),(0,a.jsxs)("div",{className:Ce().service,children:[(0,a.jsx)("div",{className:Ce().large,children:Le(n)}),"of pre-pandemic weekday service"]})]})},we=r(2672),ke=r.n(we),Ne=function(e){var t=e.title,r=e.topRight,n=void 0===r?null:r,i=e.details,s=void 0===i?null:i,l=e.children,o=e.className;return(0,a.jsxs)("div",{className:_()(ke().cardFrame,o),children:[(0,a.jsxs)("div",{className:ke().topRow,children:[(0,a.jsx)("h2",{className:ke().title,children:t}),n]}),s?(0,a.jsx)("div",{className:ke().details,children:s}):null,l]})},De=!0,Me=function(e){var t=e.data;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l(),{children:[(0,a.jsx)("title",{children:"MBTA Covid Recovery Dashboard"}),(0,a.jsx)("meta",{name:"author",content:"TransitMatters"}),(0,a.jsx)("meta",{name:"description",content:"Data on MBTA ridership and service levels throughout the COVID-19 pandemic"}),(0,a.jsx)("link",{rel:"icon",type:"image/png",href:"./favicon.png"})]}),(0,a.jsx)(ne,(0,n.Z)({},t)),(0,a.jsx)(c(),{"data-goatcounter":"https://transitmatters-crd.goatcounter.com/count",src:"//gc.zgo.at/count.js"})]})}},2672:function(e){e.exports={cardFrame:"CardFrame_cardFrame__Zylu8",topRow:"CardFrame_topRow__TEYCk",title:"CardFrame_title__hLgKe",details:"CardFrame_details__au75q"}},8941:function(e){e.exports={button:"DataTable_button__e20_W",backdrop:"DataTable_backdrop__XIK6i",dialog:"DataTable_dialog__Udedi"}},794:function(e){e.exports={cancellationText:"LineCard_cancellationText__tHpkh",cancellationIcon:"LineCard_cancellationIcon__rhK5O",statusBadge:"LineCard_statusBadge__ElYYD",tphChartContainer:"LineCard_tphChartContainer__oBkRt",tphChartLabel:"LineCard_tphChartLabel__pWMKY",sectionLabel:"LineCard_sectionLabel__fw1a3",serviceAndRidershipChartContainer:"LineCard_serviceAndRidershipChartContainer__mDREe",tabs:"LineCard_tabs__38bYV",detailsExpanded:"LineCard_detailsExpanded__o2X0B"}},1945:function(e){e.exports={lineGrid:"LineGrid_lineGrid__KOGvB",header:"LineGrid_header__13uwj",links:"LineGrid_links__qGPSx",controls:"LineGrid_controls__pHLJc",filter:"LineGrid_filter__tH_J9",select:"LineGrid_select__AJIqq",default:"LineGrid_default__JOHcw",displaySelect:"LineGrid_displaySelect__qLU0v"}},5070:function(e){e.exports={systemCard:"SystemCard_systemCard__XNmNA"}},8514:function(e){e.exports={tabList:"TabPicker_tabList__yBmnA",tab:"TabPicker_tab__Vahr6"}},8774:function(e){e.exports={topLine:"TopLine_topLine__rw4ad",column:"TopLine_column__o82UF",bubble:"TopLine_bubble__u0cmL",bad:"TopLine_bad__K60kn",warning:"TopLine_warning__1gPwt",good:"TopLine_good__6dOit"}},4024:function(e){e.exports={flexWrap:"TopLineChart_flexWrap__rqHWD",flexCol:"TopLineChart_flexCol__aqQGV"}},3006:function(e){e.exports={topLineMobile:"TopLineMobile_topLineMobile__r11_7",service:"TopLineMobile_service__0aY9b",ridership:"TopLineMobile_ridership__fquIe",lines:"TopLineMobile_lines__ftDZd",large:"TopLineMobile_large__YKK4k"}}},function(e){e.O(0,[774,90,885,698,959,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);